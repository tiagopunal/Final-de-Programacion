<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz API - Sistema de Preguntas</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <!-- P√ÅGINA DE LOGIN CON DOCUMENTACI√ìN -->
        <div id="login-page" class="page active">
            <div class="login-container">
                <!-- SECCI√ìN IZQUIERDA: LOGIN -->
                <div class="login-box">
                    <h1>üéØ Quiz API</h1>
                    <p class="subtitle">Sistema Interactivo de Preguntas</p>
                    
                    <form id="login-form">
                        <div class="form-group">
                            <label for="username">üë§ Nombre de Usuario</label>
                            <input type="text" id="username" placeholder="Ingresa tu nombre completo" required autofocus>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            ‚úì Iniciar Sesi√≥n
                        </button>
                    </form>
                    
                    <div class="login-info">
                        <p><strong>¬øQu√© puedes hacer?</strong></p>
                        <ul>
                            <li>üìã Ver todas las preguntas disponibles</li>
                            <li>‚ûï Crear nuevas preguntas</li>
                            <li>üéÆ Realizar quizzes interactivos</li>
                            <li>üìä Consultar estad√≠sticas</li>
                        </ul>
                    </div>
                </div>

                <!-- SECCI√ìN DERECHA: DOCUMENTACI√ìN -->
                <div class="docs-section">
                    <h2>üìö Documentaci√≥n de la API</h2>
                    
                    <div class="docs-buttons">
                        <a href="/docs" target="_blank" class="btn-docs btn-swagger">
                            <span>üîç Probar API</span>
                            <small>Swagger UI</small>
                        </a>
                        <a href="/redoc" target="_blank" class="btn-docs btn-redoc">
                            <span>üìñ Documentaci√≥n</span>
                            <small>ReDoc</small>
                        </a>
                    </div>

                    <div class="docs-content">
                        <h3>Endpoints Disponibles</h3>
                        <ul class="endpoints-list">
                            <li><strong>POST /questions/</strong> - Crear pregunta</li>
                            <li><strong>GET /questions/</strong> - Listar preguntas</li>
                            <li><strong>GET /questions/{id}</strong> - Obtener pregunta</li>
                            <li><strong>GET /questions/random</strong> - Pregunta aleatoria</li>
                            <li><strong>PUT /questions/{id}</strong> - Actualizar pregunta</li>
                            <li><strong>DELETE /questions/{id}</strong> - Eliminar pregunta</li>
                        </ul>

                        <h3>Sesiones de Quiz</h3>
                        <ul class="endpoints-list">
                            <li><strong>POST /quiz-sessions/</strong> - Crear sesi√≥n</li>
                            <li><strong>GET /quiz-sessions/</strong> - Listar sesiones</li>
                            <li><strong>GET /quiz-sessions/{id}</strong> - Obtener sesi√≥n</li>
                            <li><strong>PUT /quiz-sessions/{id}/complete</strong> - Completar quiz</li>
                        </ul>

                        <h3>Respuestas y Estad√≠sticas</h3>
                        <ul class="endpoints-list">
                            <li><strong>POST /answers/</strong> - Registrar respuesta</li>
                            <li><strong>GET /statistics/global</strong> - Estad√≠sticas globales</li>
                            <li><strong>GET /statistics/session/{id}</strong> - Estad√≠sticas de sesi√≥n</li>
                        </ul>

                        <h3>Ejemplo de Pregunta</h3>
                        <pre class="code-block">{
  "pregunta": "¬øCu√°l es la capital de Francia?",
  "opciones": ["Madrid", "Par√≠s", "Roma", "Berl√≠n"],
  "respuesta_correcta": "Par√≠s",
  "explicacion": "Par√≠s es la capital de Francia",
  "categoria": "Geograf√≠a",
  "dificultad": "f√°cil"
}</pre>

                        <div class="demo-section">
                            <h3>Crear Pregunta de Prueba</h3>
                            <button type="button" class="btn btn-demo" onclick="crearPreguntaDemo()">
                                ‚ú® Crear pregunta de ejemplo
                            </button>
                            <div id="demo-result"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- P√ÅGINA PRINCIPAL -->
        <div id="main-page" class="page">
            <header>
                <div class="header-content">
                    <h1>üéØ Quiz API</h1>
                    <div class="user-info">
                        <span id="username-display"></span>
                        <button id="logout-btn" class="btn btn-small">Cerrar Sesi√≥n</button>
                    </div>
                </div>
            </header>

            <nav class="nav-tabs">
                <button class="tab-btn active" data-tab="questions">üìã Ver Preguntas</button>
                <button class="tab-btn" data-tab="create">‚ûï Crear Pregunta</button>
                <button class="tab-btn" data-tab="quiz">üéÆ Hacer Quiz</button>
            </nav>

            <!-- TAB: VER PREGUNTAS -->
            <div id="questions" class="tab-content active">
                <h2>üìã Preguntas Disponibles</h2>
                <div class="filters">
                    <input type="text" id="search" placeholder="Buscar pregunta...">
                    <select id="category-filter">
                        <option value="">Todas las categor√≠as</option>
                        <option value="Matem√°ticas">Matem√°ticas</option>
                        <option value="Geograf√≠a">Geograf√≠a</option>
                        <option value="Historia">Historia</option>
                        <option value="Ciencias">Ciencias</option>
                        <option value="Astronom√≠a">Astronom√≠a</option>
                        <option value="Literatura">Literatura</option>
                    </select>
                    <select id="difficulty-filter">
                        <option value="">Todos los niveles</option>
                        <option value="f√°cil">F√°cil</option>
                        <option value="medio">Media</option>
                        <option value="dif√≠cil">Dif√≠cil</option>
                    </select>
                </div>
                <div id="questions-list" class="questions-grid"></div>
            </div>

            <!-- TAB: CREAR PREGUNTA -->
            <div id="create" class="tab-content">
                <h2>‚ûï Crear Nueva Pregunta</h2>
                <form id="create-form" class="form-box">
                    <div class="form-group">
                        <label for="pregunta">Pregunta</label>
                        <textarea id="pregunta" placeholder="Escribe la pregunta" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="categoria">Categor√≠a</label>
                        <select id="categoria" required>
                            <option value="">Selecciona categor√≠a</option>
                            <option value="Matem√°ticas">Matem√°ticas</option>
                            <option value="Geograf√≠a">Geograf√≠a</option>
                            <option value="Historia">Historia</option>
                            <option value="Ciencias">Ciencias</option>
                            <option value="Astronom√≠a">Astronom√≠a</option>
                            <option value="Literatura">Literatura</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="dificultad">Dificultad</label>
                        <select id="dificultad" required>
                            <option value="">Selecciona dificultad</option>
                            <option value="f√°cil">F√°cil</option>
                            <option value="medio">Media</option>
                            <option value="dif√≠cil">Dif√≠cil</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Opciones (4 opciones)</label>
                        <input type="text" class="option-input" placeholder="Opci√≥n 1" required>
                        <input type="text" class="option-input" placeholder="Opci√≥n 2" required>
                        <input type="text" class="option-input" placeholder="Opci√≥n 3" required>
                        <input type="text" class="option-input" placeholder="Opci√≥n 4" required>
                    </div>

                    <div class="form-group">
                        <label for="respuesta">Respuesta Correcta</label>
                        <select id="respuesta" required>
                            <option value="">Selecciona respuesta correcta</option>
                            <option value="0">Opci√≥n 1</option>
                            <option value="1">Opci√≥n 2</option>
                            <option value="2">Opci√≥n 3</option>
                            <option value="3">Opci√≥n 4</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="explicacion">Explicaci√≥n</label>
                        <textarea id="explicacion" placeholder="Explica por qu√© es correcta esta respuesta"></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">Crear Pregunta</button>
                </form>
            </div>

            <!-- TAB: HACER QUIZ -->
            <div id="quiz" class="tab-content">
                <h2>üéÆ Hacer Quiz</h2>
                <div id="quiz-start" class="quiz-start">
                    <p>Selecciona cu√°ntas preguntas quieres responder:</p>
                    <div class="quiz-options">
                        <button class="btn btn-primary" onclick="startQuiz(5)">5 Preguntas</button>
                        <button class="btn btn-primary" onclick="startQuiz(10)">10 Preguntas</button>
                        <button class="btn btn-primary" onclick="startQuiz(15)">15 Preguntas</button>
                    </div>
                </div>
                <div id="quiz-container" style="display:none;"></div>
            </div>

            <!-- TAB: ESTAD√çSTICAS -->
            <!-- Estad√≠sticas eliminadas del frontend -->
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>

